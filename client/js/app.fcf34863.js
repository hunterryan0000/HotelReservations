(function(e){function t(t){for(var a,n,o=t[0],l=t[1],d=t[2],u=0,v=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&v.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(v.length)v.shift()();return r.push.apply(r,d||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},i={app:0},r=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"031e":function(e,t,s){"use strict";s("2c5d")},"0c18":function(e,t,s){"use strict";s("94d9")},"2c5d":function(e,t,s){},3902:function(e,t,s){"use strict";s("efbf")},4913:function(e,t,s){"use strict";s("94de")},"508a":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("header",[e._v("Holiday Hotel")]),t("nav",[t("router-link",{attrs:{to:{name:"home"}}},[t("font-awesome-icon",{staticClass:"fa-icon",attrs:{icon:"fa-solid fa-house"}}),e._v(" Home")],1)],1),t("main",[t("router-view")],1),t("footer",[e._v("© 2022. All rights reserved.")])])},r=[],n=(s("031e"),s("2877")),o={},l=Object(n["a"])(o,i,r,!1,null,"54b57ffc",null),d=l.exports,c=s("8c4f"),u=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"hotel-list"}},[t("h1",[e._v(" Hotels "),t("loading-spinner",{attrs:{id:"spinner",spin:e.isLoading}})],1),t("div",{attrs:{id:"hotel-grid"}},[t("div",{staticClass:"table-heading"},[e._v("Hotel Name")]),t("div",{staticClass:"table-heading"},[e._v(" State: "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{id:"stateDropdown"},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.filter=t.target.multiple?s:s[0]},e.getHotels]}},[t("option",{attrs:{value:""}},[e._v("All")]),e._l(e.states,(function(s){return t("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(s)+" ")])}))],2)]),t("div",{staticClass:"table-heading"},[e._v("Cost")]),e._l(e.hotels,(function(s){return[t("div",{key:"a"+s.id,staticClass:"table-data"},[t("router-link",{attrs:{to:{name:"hotel",params:{id:s.id}}}},[e._v(e._s(s.name))])],1),t("div",{key:"b"+s.id,staticClass:"table-data"},[e._v(" "+e._s(s.address.state)+" ")]),t("div",{key:"c"+s.id,staticClass:"table-data"},[e._v(" "+e._s(e.formatCurrency(s.costPerNight))+" ")])]}))],2)])},v=[],h={formatCurrency(e,t="USD",s=2){return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:s}).format(e)}},p=function(){var e=this,t=e._self._c;return t("font-awesome-icon",{staticClass:"load-spinner fa-spin",style:{opacity:e.spin?1:0},attrs:{icon:"fa-solid fa-rotate"}})},m=[],f={name:"LoadingSpinner",props:{spin:{type:Boolean,required:!0}}},g=f,_=(s("e575"),Object(n["a"])(g,p,m,!1,null,"6b57f319",null)),b=_.exports,y=s("bc3a"),k=s.n(y);const R=k.a.create({baseURL:"http://localhost:9000"});var D={getHotels(){return R.get("/hotels")},getStates(){return R.get("/hotels/states")},searchHotels(e){return R.get("/hotels?state="+e)},getHotelById(e){return R.get("/hotels/"+e)},getReservationsByHotel(e){return k.a.get(`/hotels/${e}/reservations`)},addReservation(e){return k.a.post("/reservations",e)},getReservationById(e){return k.a.get("/reservations/"+e)},updateReservation(e){return k.a.put("/reservations/"+e.id,e)},deleteReservation(e){return k.a.delete("/reservations/"+e)}},w={name:"HotelsView",components:{LoadingSpinner:b},data(){return{isLoading:!1,hotels:[],filter:"",states:[]}},methods:{getHotels(){this.filter?this.searchHotels():(this.isLoading=!0,D.getHotels().then(e=>{this.hotels=e.data,this.isLoading=!1}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))}))},getStates(){this.isLoading=!0,D.getStates().then(e=>{this.states=e.data,this.isLoading=!1}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},searchHotels(){this.isLoading=!0,D.searchHotels(this.filter).then(e=>{this.hotels=e.data,this.isLoading=!1}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},details(e){this.$router.push({name:"hotelDetails",params:{id:e}})},formatCurrency(e){return h.formatCurrency(e)}},created(){this.getHotels(),this.getStates()}},L=w,C=(s("807e"),Object(n["a"])(L,u,v,!1,null,"078170b7",null)),N=C.exports,x=function(){var e=this,t=e._self._c;return t("div",[t("div",{attrs:{id:"heading-line"}},[t("img",{attrs:{id:"hotel-image",src:"/images/"+e.hotel.coverImage,alt:"Hotel photo"}}),t("h1",[e._v(" "+e._s(e.hotel.name)+" "),t("loading-spinner",{attrs:{id:"spinner",spin:e.isLoading}})],1)]),t("section",{attrs:{id:"hotel-details"}},[t("header",[e._v("Address")]),t("article",[e._v(" "+e._s(e.hotel.address.address)),t("br"),e._v(" "+e._s(e.hotel.address.address2)),e.hotel.address.address2?t("br"):e._e(),e._v(" "+e._s(e.hotel.address.city)),t("br"),e._v(" "+e._s(e.hotel.address.state)),t("br"),e._v(" "+e._s(e.hotel.address.zip)+" ")]),t("header",[e._v("Cost")]),t("article",[e._v(e._s(e.formatCurrency(e.hotel.costPerNight))+" per night")]),t("header",[e._v("Capacity")]),t("article",[e._v(e._s(e.hotel.roomsAvailable)+" rooms")]),t("header",[e._v("Rating")]),t("article",e._l(e.hotel.stars,(function(s){return t("img",{key:s,staticClass:"rating-star",attrs:{src:"/images/star.png",alt:"Stars",title:e.hotel.stars+" stars"}})})),0)]),t("section",{attrs:{id:"hotel-reservations"}},[e.reservations?t("div",{attrs:{id:"reservations"}},[t("h2",[e._v("Reservations")]),t("p",[t("em",[e._v(e._s(e.reservations.length)+" reservation"+e._s(1==e.reservations.length?"":"s")+" found")])]),t("router-link",{attrs:{to:{name:"add-reservation",params:{hotelId:e.hotel.id}}}},[e._v("Book new reservation")]),e._l(e.reservations,(function(e){return t("article",{key:e.id,attrs:{id:"reservation-list"}},[t("hr"),t("reservation-details",{attrs:{id:"reservation-details",reservation:e}}),t("router-link",{attrs:{to:{name:"update-reservation",params:{id:e.id}}}},[t("font-awesome-icon",{staticClass:"fa-icon",attrs:{icon:"fa-solid fa-pen-to-square"}})],1),t("router-link",{attrs:{to:{name:"delete-reservation",params:{id:e.id}}}},[t("font-awesome-icon",{staticClass:"fa-icon",attrs:{icon:"fa-solid fa-trash-can"}})],1)],1)}))],2):t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.getReservations.apply(null,arguments)}}},[e._v("Show hotel reservations")])])])},S=[],H=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"reservation-details"}},[t("section",{staticClass:"set"},[t("div",[e._v("Confirmation:")]),t("div",[e._v(e._s(e.reservation.id))])]),t("section",{staticClass:"set"},[t("div",[e._v("Name:")]),t("div",[e._v(e._s(e.reservation.fullName))])]),t("section",{staticClass:"set"}),t("section",{staticClass:"set"},[t("div",[e._v("Dates:")]),t("div",[e._v(e._s(e.reservation.checkinDate)+" to "+e._s(e.reservation.checkoutDate))])]),t("section",{staticClass:"set"}),t("section",{staticClass:"set"},[t("div",[e._v("Guests:")]),t("div",[e._v(e._s(e.reservation.guests))])])])},O=[],$={name:"ReservationDetails",props:{reservation:{type:Object,required:!0}}},j=$,P=(s("cdb4"),Object(n["a"])(j,H,O,!1,null,"58231d18",null)),I=P.exports,A={components:{LoadingSpinner:b,ReservationDetails:I},name:"HotelDetailsView",data(){return{hotel:{address:{}},isLoading:!1,reservations:null,showRes:!1}},methods:{getHotel(e){console.log(e),this.isLoading=!0,D.getHotelById(e).then(e=>{this.hotel=e.data,this.isLoading=!1}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},getReservations(){var e;null!==(e=this.hotel)&&void 0!==e&&e.id&&(this.isLoading=!0,D.getReservationsByHotel(this.hotel.id).then(e=>{this.reservations=e.data,this.isLoading=!1}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))}))},formatCurrency(e){return h.formatCurrency(e)}},created(){this.$route.query.showRes&&(this.showRes=!0),this.getHotel(this.$route.params.id)}},B=A,q=(s("0c18"),Object(n["a"])(B,x,S,!1,null,"ab23ea66",null)),U=q.exports,F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{attrs:{id:"heading-line"}},[t("h1",[e._v(" Add Reservation "),t("loading-spinner",{attrs:{id:"spinner",spin:e.isLoading}})],1)]),t("hr"),t("form",{on:{submit:function(t){return t.preventDefault(),e.addReservation.apply(null,arguments)}}},[t("fieldset",[t("label",{attrs:{for:"fullName"}},[e._v("Full name: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.fullName,expression:"reservation.fullName"}],attrs:{type:"text",name:"fullName",id:"fullName"},domProps:{value:e.reservation.fullName},on:{input:function(t){t.target.composing||e.$set(e.reservation,"fullName",t.target.value)}}})]),t("fieldset",[t("label",{attrs:{for:"checkinDate"}},[e._v("Checkin date: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.checkinDate,expression:"reservation.checkinDate"}],attrs:{type:"date",name:"checkinDate",id:"checkinDate"},domProps:{value:e.reservation.checkinDate},on:{input:function(t){t.target.composing||e.$set(e.reservation,"checkinDate",t.target.value)}}})]),t("fieldset",[t("label",{attrs:{for:"checkoutDate"}},[e._v("Checkout date: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.checkoutDate,expression:"reservation.checkoutDate"}],attrs:{type:"date",name:"checkoutDate",id:"checkoutDate"},domProps:{value:e.reservation.checkoutDate},on:{input:function(t){t.target.composing||e.$set(e.reservation,"checkoutDate",t.target.value)}}})]),t("fieldset",[t("label",{attrs:{for:"guests"}},[e._v("Number of guests: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.guests,expression:"reservation.guests"}],attrs:{type:"number",min:"1",max:"5",name:"guests",id:"guests"},domProps:{value:e.reservation.guests},on:{input:function(t){t.target.composing||e.$set(e.reservation,"guests",t.target.value)}}})])]),t("button",{on:{click:e.addReservation}},[e._v("Add")]),e._v("  "),t("button",{on:{click:e.listReservations}},[e._v("Cancel")])])},M=[],V={name:"ReservationAddView",components:{LoadingSpinner:b},data(){return{isLoading:!1,reservation:{}}},methods:{addReservation(){this.isLoading=!0,D.addReservation(this.reservation).then(()=>{this.isLoading=!1,this.listReservations()}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},listReservations(){this.$router.push({name:"hotel",params:{id:this.reservation.hotelId},query:{showRes:!0}})},dateAsString(e=0){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).toISOString().split("T")[0]}},created(){this.reservation={id:0,hotelId:this.$route.params.hotelId,fullName:"",checkinDate:this.dateAsString(1),checkoutDate:this.dateAsString(2),guests:2}}},T=V,J=(s("3902"),Object(n["a"])(T,F,M,!1,null,"c75bc900",null)),z=J.exports,G=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{attrs:{id:"heading-line"}},[t("h1",[e._v(" Update Reservation "),t("loading-spinner",{attrs:{id:"spinner",spin:e.isLoading}})],1)]),t("reservation-details",{attrs:{reservation:e.reservation}}),t("hr"),t("form",{on:{submit:function(t){return t.preventDefault(),e.updateReservation.apply(null,arguments)}}},[t("fieldset",[t("label",{attrs:{for:"fullName"}},[e._v("Full name: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.fullName,expression:"reservation.fullName"}],attrs:{type:"text",name:"fullName",id:"fullName"},domProps:{value:e.reservation.fullName},on:{input:function(t){t.target.composing||e.$set(e.reservation,"fullName",t.target.value)}}})]),t("fieldset",[t("label",{attrs:{for:"checkinDate"}},[e._v("Checkin date: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.checkinDate,expression:"reservation.checkinDate"}],attrs:{type:"date",name:"checkinDate",id:"checkinDate"},domProps:{value:e.reservation.checkinDate},on:{input:function(t){t.target.composing||e.$set(e.reservation,"checkinDate",t.target.value)}}})]),t("fieldset",[t("label",{attrs:{for:"checkoutDate"}},[e._v("Checkout date: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.checkoutDate,expression:"reservation.checkoutDate"}],attrs:{type:"date",name:"checkoutDate",id:"checkoutDate"},domProps:{value:e.reservation.checkoutDate},on:{input:function(t){t.target.composing||e.$set(e.reservation,"checkoutDate",t.target.value)}}})]),t("fieldset",[t("label",{attrs:{for:"guests"}},[e._v("Number of guests: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.reservation.guests,expression:"reservation.guests"}],attrs:{type:"number",min:"1",max:"5",name:"guests",id:"guests"},domProps:{value:e.reservation.guests},on:{input:function(t){t.target.composing||e.$set(e.reservation,"guests",t.target.value)}}})])]),t("button",{on:{click:e.updateReservation}},[e._v("Update")]),e._v("  "),t("button",{on:{click:e.listReservations}},[e._v("Cancel")])],1)},Y=[],E={name:"ReservationUpdateView",components:{LoadingSpinner:b,ReservationDetails:I},data(){return{isLoading:!1,reservation:{}}},methods:{getReservation(e){console.log(e),this.isLoading=!0,D.getReservationById(e).then(e=>{this.isLoading=!1,this.reservation=e.data}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},updateReservation(){this.isLoading=!0,D.updateReservation(this.reservation).then(()=>{this.isLoading=!1,this.listReservations()}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},listReservations(){this.$router.push({name:"hotel",params:{id:this.reservation.hotelId},query:{showRes:!0}})}},created(){this.getReservation(this.$route.params.id)}},K=E,Q=(s("5ef5"),Object(n["a"])(K,G,Y,!1,null,"15b5c53a",null)),W=Q.exports,X=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{attrs:{id:"heading-line"}},[t("h1",[e._v(" Delete Reservation "),t("loading-spinner",{attrs:{id:"spinner",spin:e.isLoading}})],1)]),t("reservation-details",{attrs:{reservation:e.reservation}}),t("hr"),e._v(" Are you sure you want to delete this reservation?"),t("br"),t("br"),t("button",{attrs:{id:"delete-button"},on:{click:e.deleteReservation}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-trash-can"}}),e._v(" Delete")],1),e._v("  "),t("button",{on:{click:e.listReservations}},[e._v("Cancel")])],1)},Z=[],ee={name:"ReservationDeleteView",components:{LoadingSpinner:b,ReservationDetails:I},data(){return{isLoading:!1,reservation:{}}},methods:{getReservation(e){console.log(e),this.isLoading=!0,D.getReservationById(e).then(e=>{this.reservation=e.data,this.isLoading=!1}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},deleteReservation(){this.isLoading=!0,D.deleteReservation(this.reservation.id).then(()=>{this.isLoading=!1,this.listReservations()}).catch(e=>{404==e.response.status&&(this.isLoading=!1,alert(e))})},listReservations(){this.$router.push({name:"hotel",params:{id:this.reservation.hotelId},query:{showRes:!0}})}},created(){this.getReservation(this.$route.params.id)}},te=ee,se=(s("4913"),Object(n["a"])(te,X,Z,!1,null,"0f6f2734",null)),ae=se.exports;a["a"].use(c["a"]);const ie=new c["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:N},{path:"/hotel/:id",name:"hotel",component:U},{path:"/hotel/:id/newreservation",name:"add-reservation",component:z},{path:"/reservation/:id/update",name:"update-reservation",component:W},{path:"/reservation/:id/delete",name:"delete-reservation",component:ae}]});var re=ie,ne=s("2f62");a["a"].use(ne["a"]);var oe=new ne["a"].Store({state:{},mutations:{}}),le=s("ecee"),de=s("ad3d"),ce=s("c074");le["c"].add(ce["d"]),le["c"].add(ce["c"]),le["c"].add(ce["b"]),le["c"].add(ce["a"]),a["a"].component("font-awesome-icon",de["a"]),a["a"].config.productionTip=!1,k.a.defaults.baseURL="http://localhost:9000",new a["a"]({router:re,store:oe,render:e=>e(d)}).$mount("#app")},"5ef5":function(e,t,s){"use strict";s("508a")},"807e":function(e,t,s){"use strict";s("a8ac")},"94d9":function(e,t,s){},"94de":function(e,t,s){},a8ac:function(e,t,s){},cb72:function(e,t,s){},cdb4:function(e,t,s){"use strict";s("cb72")},dfe5:function(e,t,s){},e575:function(e,t,s){"use strict";s("dfe5")},efbf:function(e,t,s){}});
//# sourceMappingURL=app.fcf34863.js.map