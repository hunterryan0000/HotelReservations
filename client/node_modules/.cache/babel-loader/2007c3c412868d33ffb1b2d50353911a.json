{"remainingRequest":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\src\\views\\HotelsView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\src\\views\\HotelsView.vue","mtime":1680358241285},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\babel.config.js","mtime":1669561803180},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680355299326},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1680355299279},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1680355301971},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680355299326},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1680355303949}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHV0aWxpdHkgZnJvbSAiLi4vc2VydmljZXMvdXRpbGl0eSI7CmltcG9ydCBMb2FkaW5nU3Bpbm5lciBmcm9tICIuLi9jb21wb25lbnRzL0xvYWRpbmdTcGlubmVyLnZ1ZSI7IC8vc3RlcCAxLjMKCmltcG9ydCBob3RlbFNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvSG90ZWxTZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb3RlbHNWaWV3IiwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nU3Bpbm5lcgogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICAvLyB0cnVlIHRvIGluZGljYXRlIGEgY2FsbCBpbiBwcm9ncmVzcwogICAgICBob3RlbHM6IFtdLAogICAgICAvLyBhbiBhcnJheSBvZiBob3RlbCBvYmplY3RzIHRvIGRpc3BsYXkKICAgICAgZmlsdGVyOiAiIiwKICAgICAgLy8gQSBzdGF0ZSBjb2RlIHRvIGZpbHRlciBieSwgZW1wdHkgaWYgc2hvaW5nIGFsbCBob3RlbHMKICAgICAgc3RhdGVzOiBbXSAvLyBBbiBhcnJheSBvZiBzdHJpbmdzIGZvciBhbGwgc3RhdGUgY29kZXMgZm9yIHdoaWNoIHdlIGhhdmUgaG90ZWxzCgogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvKioqCiAgICAgKiBHZXQgYSBsaXN0IG9mIGhvdGVscyBmcm9tIHRoZSBBUEkuCiAgICAgKi8KICAgIGdldEhvdGVscygpIHsKICAgICAgLy8gQ2FsbCB0aGUgc2VhcmNoSG90ZWxzIG1ldGhvZCBpbnN0ZWFkLCBpZiB0aGVyZSBpcyBhIGZpbHRlciBzZXQgKHRoZSBzdGF0ZSBkcm9wZG93bikKICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7CiAgICAgICAgdGhpcy5zZWFyY2hIb3RlbHMoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gU2V0IHRoZSBpbmRpY2F0b3IgdGhhdCBhIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuCgoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOyAvLyBUT0RPIHN0ZXAgMS40OiBVc2UgdGhlIFNlcnZpY2Ugb2JqZWN0IHRvIGBHRVQgL2hvdGVsc2AuIFNldCB0aGUgYm9keSBvZiB0aGUgcmVzdWx0IHRvIGB0aGlzLmhvdGVsc2AuIEhhbmRsZSBlcnJvcnMuCgogICAgICBob3RlbFNlcnZpY2UuZ2V0SG90ZWxzKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5ob3RlbHMgPSByZXNwb25zZS5kYXRhOyAvLyBXaGVuIGRvbmUgKHdoZXRoZXIgc3VjY2VzcyBvciBlcnJvcikgc2V0IHRoZSBpbmRpY2F0b3IgdGhhdCB0aGUgY2FsbCBpcyBjb21wbGV0ZS4KCiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDA0KSB7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKioKICAgICAqIEdldCBhIGxpc3Qgb2Ygc3RhdGVzIChhbiBhcnJheSBvZiBzdHJpbmdzKSBpbiB3aGljaCBhbnkgb2Ygb3VyIGhvdGVscyBhcmUgbG9jYXRlZAogICAgICovCiAgICBnZXRTdGF0ZXMoKSB7CiAgICAgIC8vIFNldCB0aGUgaW5kaWNhdG9yIHRoYXQgYSBjYWxsIGlzIGluIHByb2dyZXNzLgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7IC8vIFRPRE8gc3RlcCAxLjU6IFVzZSB0aGUgU2VydmljZSBvYmplY3QgdG8gYEdFVCAvaG90ZWxzL3N0YXRlc2AuIFNldCB0aGUgYm9keSBvZiB0aGUgcmVzdWx0IHRvIGB0aGlzLnN0YXRlc2AuIEhhbmRsZSBlcnJvcnMuCgogICAgICBob3RlbFNlcnZpY2UuZ2V0U3RhdGVzKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5zdGF0ZXMgPSByZXNwb25zZS5kYXRhOyAvLyBXaGVuIGRvbmUgKHdoZXRoZXIgc3VjY2VzcyBvciBlcnJvcikgc2V0IHRoZSBpbmRpY2F0b3IgdGhhdCB0aGUgY2FsbCBpcyBjb21wbGV0ZS4KCiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDA0KSB7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKioKICAgICAqIFVzZSB0aGlzLmZpbHRlciB0byBvbmx5IHJldHVybiBob3RlbHMgaW4gdGhlIHN0YXRlIGluZGljYXRlZCBieSB0aGUgZmlsdGVyLgogICAgICovCiAgICBzZWFyY2hIb3RlbHMoKSB7CiAgICAgIC8vIFNldCB0aGUgaW5kaWNhdG9yIHRoYXQgYSBjYWxsIGlzIGluIHByb2dyZXNzLgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7IC8vIFRPRE8gc3RlcCAxLjY6IFVzZSB0aGUgU2VydmljZSBvYmplY3QgdG8gYEdFVCAvaG90ZWxzP3N0YXRlPXh4YC4gU2V0IHRoZSBib2R5IG9mIHRoZSByZXN1bHQgdG8gYHRoaXMuaG90ZWxzYC4gSGFuZGxlIGVycm9ycy4KCiAgICAgIGhvdGVsU2VydmljZS5zZWFyY2hIb3RlbHModGhpcy5maWx0ZXIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuaG90ZWxzID0gcmVzcG9uc2UuZGF0YTsgLy8gV2hlbiBkb25lICh3aGV0aGVyIHN1Y2Nlc3Mgb3IgZXJyb3IpIHNldCB0aGUgaW5kaWNhdG9yIHRoYXQgdGhlIGNhbGwgaXMgY29tcGxldGUuCgogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwNCkgewogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIGFsZXJ0KGVycm9yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioqCiAgICAgKiBOYXZpZ2F0ZSB0byB0aGUgSG90ZWxEZXRhaWxzIHZpZXcKICAgICAqLwogICAgZGV0YWlscyhpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImhvdGVsRGV0YWlscyIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioqCiAgICAgKiBVc2UgdGhlIHV0aWxpdHkgb2JqZWN0IHRvIGRpc3BsYXkgYSBOdW1iZXIgYXMgVVNELgogICAgICovCiAgICBmb3JtYXRDdXJyZW5jeSh2YWx1ZSkgewogICAgICByZXR1cm4gdXRpbGl0eS5mb3JtYXRDdXJyZW5jeSh2YWx1ZSk7CiAgICB9CgogIH0sCgogIC8vIFRPRE8gc3RlcCAxLjI6IENyZWF0ZSBhIFZ1ZSBMaWZlY3ljbGUgaG9vayBmdW5jdGlvbiB3aGljaCBjYWxscyBgdGhpcy5nZXRIb3RlbHMoKWAgYW5kIGB0aGlzLmdldFN0YXRlcygpYAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEhvdGVscygpOwogICAgdGhpcy5nZXRTdGF0ZXMoKTsKICB9Cgp9Ow=="},{"version":3,"mappings":"AA2CA;AACA,8D,CACA;;AACA;AACA;EACAA,kBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,gBADA;MACA;MACAC,UAFA;MAEA;MACAC,UAHA;MAGA;MACAC,UAJA,CAIA;;IAJA;EAMA,CAZA;;EAcAC;IACA;AACA;AACA;IACAC;MACA;MACA;QACA;QACA;MACA,CALA,CAOA;;;MACA,sBARA,CAUA;;MACAC,aACAD,SADA,GAEAE,IAFA,CAEAC;QACA,4BADA,CAEA;;QACA;MACA,CANA,EAOAC,KAPA,CAOAC;QACA;UACA;UACAC;QACA;MACA,CAZA;IAaA,CA5BA;;IA6BA;AACA;AACA;IACAC;MACA;MACA,sBAFA,CAIA;;MACAN,aACAM,SADA,GAEAL,IAFA,CAEAC;QACA,4BADA,CAEA;;QACA;MACA,CANA,EAOAC,KAPA,CAOAC;QACA;UACA;UACAC;QACA;MACA,CAZA;IAaA,CAlDA;;IAmDA;AACA;AACA;IACAE;MACA;MACA,sBAFA,CAIA;;MACAP,aACAO,YADA,CACA,WADA,EAEAN,IAFA,CAEAC;QACA,4BADA,CAEA;;QACA;MACA,CANA,EAOAC,KAPA,CAOAC;QACA;UACA;UACAC;QACA;MACA,CAZA;IAaA,CAxEA;;IAyEA;AACA;AACA;IACAG;MACA;QAAAlB;QAAAmB;UAAAC;QAAA;MAAA;IACA,CA9EA;;IA+EA;AACA;AACA;IACAC;MACA;IACA;;EApFA,CAdA;;EAqGA;EACAC;IACA;IACA;EACA;;AAzGA","names":["name","components","LoadingSpinner","data","isLoading","hotels","filter","states","methods","getHotels","hotelService","then","response","catch","error","alert","getStates","searchHotels","details","params","id","formatCurrency","created"],"sourceRoot":"src/views","sources":["HotelsView.vue"],"sourcesContent":["<template>\n  <div id=\"hotel-list\">\n    <h1>\n      Hotels\n      <loading-spinner id=\"spinner\" v-bind:spin=\"isLoading\" />\n    </h1>\n\n    <!--Hotels table -->\n    <div id=\"hotel-grid\">\n      <div class=\"table-heading\">Hotel Name</div>\n      <div class=\"table-heading\">\n        State:\n        <select id=\"stateDropdown\" v-model=\"filter\" v-on:change=\"getHotels\">\n          <option value=\"\">All</option>\n          <option\n            v-for=\"state in states\"\n            v-bind:key=\"state\"\n            v-bind:value=\"state\"\n          >\n            {{ state }}\n          </option>\n        </select>\n      </div>\n      <div class=\"table-heading\">Cost</div>\n      <template v-for=\"hotel in hotels\">\n        <div v-bind:key=\"'a' + hotel.id\" class=\"table-data\">\n          <router-link\n            v-bind:to=\"{ name: 'hotel', params: { id: hotel.id } }\"\n            >{{ hotel.name }}</router-link\n          >\n        </div>\n        <div v-bind:key=\"'b' + hotel.id\" class=\"table-data\">\n          {{ hotel.address.state }}\n        </div>\n        <div v-bind:key=\"'c' + hotel.id\" class=\"table-data\">\n          {{ formatCurrency(hotel.costPerNight) }}\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport utility from \"../services/utility\";\nimport LoadingSpinner from \"../components/LoadingSpinner.vue\";\n//step 1.3\nimport hotelService from \"../services/HotelService\";\nexport default {\n  name: \"HotelsView\",\n  components: {\n    LoadingSpinner,\n  },\n  data() {\n    return {\n      isLoading: false, // true to indicate a call in progress\n      hotels: [], // an array of hotel objects to display\n      filter: \"\", // A state code to filter by, empty if shoing all hotels\n      states: [], // An array of strings for all state codes for which we have hotels\n    };\n  },\n\n  methods: {\n    /***\n     * Get a list of hotels from the API.\n     */\n    getHotels() {\n      // Call the searchHotels method instead, if there is a filter set (the state dropdown)\n      if (this.filter) {\n        this.searchHotels();\n        return;\n      }\n\n      // Set the indicator that a call is in progress.\n      this.isLoading = true;\n\n      // TODO step 1.4: Use the Service object to `GET /hotels`. Set the body of the result to `this.hotels`. Handle errors.\n      hotelService\n        .getHotels()\n        .then((response) => {\n          this.hotels = response.data;\n      // When done (whether success or error) set the indicator that the call is complete.\n      this.isLoading = false;\n        })\n        .catch(error => {\n        if (error.response.status == 404) {\n          this.isLoading = false;\n          alert(error);\n        }\n      });\n    },\n    /***\n     * Get a list of states (an array of strings) in which any of our hotels are located\n     */\n    getStates() {\n      // Set the indicator that a call is in progress.\n      this.isLoading = true;\n\n      // TODO step 1.5: Use the Service object to `GET /hotels/states`. Set the body of the result to `this.states`. Handle errors.\n      hotelService\n        .getStates()\n        .then((response) => {\n          this.states = response.data;\n      // When done (whether success or error) set the indicator that the call is complete.\n      this.isLoading = false;\n      })\n        .catch(error => {\n        if (error.response.status == 404) {\n          this.isLoading = false;\n          alert(error);\n        }\n      });\n    },\n    /***\n     * Use this.filter to only return hotels in the state indicated by the filter.\n     */\n    searchHotels() {\n      // Set the indicator that a call is in progress.\n      this.isLoading = true;\n\n      // TODO step 1.6: Use the Service object to `GET /hotels?state=xx`. Set the body of the result to `this.hotels`. Handle errors.\n      hotelService\n        .searchHotels(this.filter)\n        .then((response) => {\n          this.hotels = response.data;\n      // When done (whether success or error) set the indicator that the call is complete.\n      this.isLoading = false;\n      })\n        .catch(error => {\n        if (error.response.status == 404) {\n          this.isLoading = false;\n          alert(error);\n        }\n      });\n    },\n    /***\n     * Navigate to the HotelDetails view\n     */\n    details(id) {\n      this.$router.push({ name: \"hotelDetails\", params: { id: id } });\n    },\n    /***\n     * Use the utility object to display a Number as USD.\n     */\n    formatCurrency(value) {\n      return utility.formatCurrency(value);\n    },\n  },\n\n  // TODO step 1.2: Create a Vue Lifecycle hook function which calls `this.getHotels()` and `this.getStates()`\n  created() {\n    this.getHotels();\n    this.getStates();\n  },\n};\n</script>\n\n<style scoped>\n#hotel-grid {\n  display: grid;\n  margin: auto;\n  grid-template-columns: auto auto 100px;\n  column-gap: 10px;\n  row-gap: 6px;\n  max-width: 800px;\n}\n\n.table-heading {\n  font-weight: bold;\n}\n</style>"]}]}