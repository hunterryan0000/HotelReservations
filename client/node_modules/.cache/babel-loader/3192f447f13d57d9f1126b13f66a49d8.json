{"remainingRequest":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\src\\views\\ReservationUpdateView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\src\\views\\ReservationUpdateView.vue","mtime":1688831267952},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\babel.config.js","mtime":1669561803180},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680355299326},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1680355301971},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680355299326},{"path":"C:\\Users\\Student\\workspace\\te-curriculum-part-time-aug-2022\\java\\module-3\\week-8\\REVIEW\\exercise\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1680355303949}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IExvYWRpbmdTcGlubmVyIGZyb20gIi4uL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIudnVlIjsKaW1wb3J0IFJlc2VydmF0aW9uRGV0YWlscyBmcm9tICIuLi9jb21wb25lbnRzL1Jlc2VydmF0aW9uRGV0YWlscy52dWUiOyAvL3N0ZXAgNC4yCgppbXBvcnQgaG90ZWxTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0hvdGVsU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVzZXJ2YXRpb25VcGRhdGVWaWV3IiwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nU3Bpbm5lciwKICAgIFJlc2VydmF0aW9uRGV0YWlscwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICAvLyB0cnVlIHRvIGluZGljYXRlIGEgY2FsbCBpbiBwcm9ncmVzcwogICAgICByZXNlcnZhdGlvbjoge30gLy8gdGhlIHJlc2VydmF0aW9uIHRvIGJlIHVwZGF0ZWQgYnkgdGhpcyB2aWV3CgogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRSZXNlcnZhdGlvbihpZCkgewogICAgICBjb25zb2xlLmxvZyhpZCk7IC8vIHByZXZlbnRzIGEgIm5vLXVudXNlZC12YXJzIiBlcnJvcgogICAgICAvLyBTZXQgdGhlIGluZGljYXRvciB0aGF0IGEgY2FsbCBpcyBpbiBwcm9ncmVzcy4KCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsgLy8gVE9ETyA0LjM6IFVzZSB0aGUgU2VydmljZSBvYmplY3QgdG8gYEdFVCAvcmVzZXJ2YXRpb25zL3tpZH1gLiBTZXQgdGhlIGJvZHkgb2YgdGhlIHJlc3VsdCB0byBgdGhpcy5yZXNlcnZhdGlvbmAuIEhhbmRsZSBlcnJvcnMuCgogICAgICBob3RlbFNlcnZpY2UuZ2V0UmVzZXJ2YXRpb25CeUlkKGlkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyBXaGVuIGRvbmUgKHdoZXRoZXIgc3VjY2VzcyBvciBlcnJvcikgc2V0IHRoZSBpbmRpY2F0b3IgdGhhdCB0aGUgY2FsbCBpcyBjb21wbGV0ZS4KICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMucmVzZXJ2YXRpb24gPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDQpIHsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBhbGVydChlcnJvcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgdXBkYXRlUmVzZXJ2YXRpb24oKSB7CiAgICAgIC8vIFNldCB0aGUgaW5kaWNhdG9yIHRoYXQgYSBjYWxsIGlzIGluIHByb2dyZXNzLgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7IC8vIFRPRE8gc3RlcCA0LjQ6IFVzZSB0aGUgU2VydmljZSBvYmplY3QgdG8gYFBVVCAvcmVzZXJ2YXRpb25zL3tpZH1gLiBXaGVuIGRvbmUsIGNhbGwgbGlzdFJlc2VydmF0aW9ucygpIHRvIG5hdmlnYXRlIHRvIEhvdGVsIERldGFpbHMuIEhhbmRsZSBlcnJvcnMuCgogICAgICBob3RlbFNlcnZpY2UudXBkYXRlUmVzZXJ2YXRpb24odGhpcy5yZXNlcnZhdGlvbikudGhlbigoKSA9PiB7CiAgICAgICAgLy8gV2hlbiBkb25lICh3aGV0aGVyIHN1Y2Nlc3Mgb3IgZXJyb3IpIHNldCB0aGUgaW5kaWNhdG9yIHRoYXQgdGhlIGNhbGwgaXMgY29tcGxldGUuCiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmxpc3RSZXNlcnZhdGlvbnMoKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDA0KSB7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGxpc3RSZXNlcnZhdGlvbnMoKSB7CiAgICAgIC8vIE5hdmlnYXRlIHRvIHRoZSBIb3RlbCBEZXRhaWxzIHBhZ2UsIHdpdGggYSBwYXJhbWV0ZXIgdGhhdCBzYXlzIHRvIGRpc3BsYXkgcmVzZXJ2YXRpb25zIHRvby4KICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJob3RlbCIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogdGhpcy5yZXNlcnZhdGlvbi5ob3RlbElkCiAgICAgICAgfSwKICAgICAgICBxdWVyeTogewogICAgICAgICAgc2hvd1JlczogdHJ1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogIH0sCgogIC8vIFRPRE8gc3RlcCA0LjU6IENyZWF0ZSBhIFZ1ZSBMaWZlY3ljbGUgaG9vayBmdW5jdGlvbiB3aGljaCBjYWxscyBgdGhpcy5nZXRSZXNlcnZhdGlvbigpYCwgcGFzc2luZyBpbiB0aGUgYGlkYCBwYXRoIHBhcmFtZXRlci4KICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRSZXNlcnZhdGlvbih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogIH0KCn07"},{"version":3,"mappings":"AAwDA;AACA,sE,CACA;;AACA;AACA;EACAA,6BADA;EAEAC;IACAC,cADA;IAEAC;EAFA,CAFA;;EAMAC;IACA;MACAC,gBADA;MACA;MACAC,eAFA,CAEA;;IAFA;EAIA,CAXA;;EAaAC;IACAC;MACAC,gBADA,CACA;MACA;;MACA,sBAHA,CAKA;;MACAC,aACAC,kBADA,CACAC,EADA,EAEAC,IAFA,CAEAC;QACA;QACA;QACA;MACA,CANA,EAOAC,KAPA,CAOAC;QACA;UACA;UACAC;QACA;MACA,CAZA;IAaA,CApBA;;IAqBAC;MACA;MACA,sBAFA,CAIA;;MACAR,aACAQ,iBADA,CACA,gBADA,EAEAL,IAFA,CAEA;QACA;QACA;QACA;MAEA,CAPA,EAQAE,KARA,CAQAC;QACA;UACA;UACAC;QACA;MACA,CAbA;IAcA,CAxCA;;IA0CAE;MACA;MACA;QACAnB,aADA;QAEAoB;UAAAR;QAAA,CAFA;QAGAS;UAAAC;QAAA;MAHA;IAKA;;EAjDA,CAbA;;EAiEA;EACAC;IACA;EACA;;AApEA","names":["name","components","LoadingSpinner","ReservationDetails","data","isLoading","reservation","methods","getReservation","console","hotelService","getReservationById","id","then","response","catch","error","alert","updateReservation","listReservations","params","query","showRes","created"],"sourceRoot":"src/views","sources":["ReservationUpdateView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div id=\"heading-line\">\n      <h1>\n        Update Reservation\n        <loading-spinner id=\"spinner\" v-bind:spin=\"isLoading\" />\n      </h1>\n    </div>\n    <reservation-details v-bind:reservation=\"reservation\" />\n    <hr />\n    <form v-on:submit.prevent=\"updateReservation\">\n      <fieldset>\n        <label for=\"fullName\">Full name: </label>\n        <input\n          type=\"text\"\n          name=\"fullName\"\n          id=\"fullName\"\n          v-model=\"reservation.fullName\"\n        />\n      </fieldset>\n      <fieldset>\n        <label for=\"checkinDate\">Checkin date: </label>\n        <input\n          type=\"date\"\n          name=\"checkinDate\"\n          id=\"checkinDate\"\n          v-model=\"reservation.checkinDate\"\n        />\n      </fieldset>\n      <fieldset>\n        <label for=\"checkoutDate\">Checkout date: </label>\n        <input\n          type=\"date\"\n          name=\"checkoutDate\"\n          id=\"checkoutDate\"\n          v-model=\"reservation.checkoutDate\"\n        />\n      </fieldset>\n      <fieldset>\n        <label for=\"guests\">Number of guests: </label>\n        <input\n          type=\"number\"\n          min=\"1\"\n          max=\"5\"\n          name=\"guests\"\n          id=\"guests\"\n          v-model=\"reservation.guests\"\n        />\n      </fieldset>\n    </form>\n    <button v-on:click=\"updateReservation\">Update</button>&nbsp;\n    <button v-on:click=\"listReservations\">Cancel</button>\n  </div>\n</template>\n\n<script>\nimport LoadingSpinner from \"../components/LoadingSpinner.vue\";\nimport ReservationDetails from \"../components/ReservationDetails.vue\";\n//step 4.2\nimport hotelService from \"../services/HotelService\";\nexport default {\n  name: \"ReservationUpdateView\",\n  components: {\n    LoadingSpinner,\n    ReservationDetails,\n  },\n  data() {\n    return {\n      isLoading: false, // true to indicate a call in progress\n      reservation: {}, // the reservation to be updated by this view\n    };\n  },\n\n  methods: {\n    getReservation(id) {\n      console.log(id);  // prevents a \"no-unused-vars\" error\n      // Set the indicator that a call is in progress.\n      this.isLoading = true;\n\n      // TODO 4.3: Use the Service object to `GET /reservations/{id}`. Set the body of the result to `this.reservation`. Handle errors.\n      hotelService\n        .getReservationById(id)\n        .then((response) => {\n      // When done (whether success or error) set the indicator that the call is complete.\n      this.isLoading = false;\n      this.reservation = response.data;\n      })\n      .catch(error => {\n        if (error.response.status == 404) {\n          this.isLoading = false;\n          alert(error);\n        }\n      });\n    },\n    updateReservation() {\n      // Set the indicator that a call is in progress.\n      this.isLoading = true;\n\n      // TODO step 4.4: Use the Service object to `PUT /reservations/{id}`. When done, call listReservations() to navigate to Hotel Details. Handle errors.\n      hotelService\n        .updateReservation(this.reservation)\n        .then(() => {\n      // When done (whether success or error) set the indicator that the call is complete.\n      this.isLoading = false;\n      this.listReservations();\n\n      })\n      .catch(error => {\n        if (error.response.status == 404) {\n          this.isLoading = false;\n          alert(error);\n        }\n      });\n    },\n\n    listReservations() {\n      // Navigate to the Hotel Details page, with a parameter that says to display reservations too.\n      this.$router.push({\n        name: \"hotel\",\n        params: { id: this.reservation.hotelId },\n        query: { showRes: true },\n      });\n    },\n  },\n\n  // TODO step 4.5: Create a Vue Lifecycle hook function which calls `this.getReservation()`, passing in the `id` path parameter.\n  created() {\n    this.getReservation(this.$route.params.id);\n  },\n\n};\n</script>\n\n<style scoped>\nfieldset {\n  border: none;\n}\nfieldset > label {\n  display: inline-block;\n  width: 180px;\n}\n</style>"]}]}